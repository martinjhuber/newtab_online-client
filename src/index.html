<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=9" />
	<title>new tab by mjh</title>
	<meta name="robots" content="index,nofollow" />
    <meta name="keywords" content="new tab online,mjh" />
    <meta name="referrer" content="no-referrer">
    <meta name="viewport" id="viewport" content="width=device-width, initial-scale=1" /> 
    <link rel="stylesheet" href="./resources/bootstrap.min.css">
    <link rel="stylesheet" href="./css/newtab.css">
    <script src="./resources/jquery-3.5.1.min.js"></script>
    <script src="./resources/masonry.pkgd.min.js"></script>
    <script src="./resources/pSBC.js"></script>
</head>
<body>

<div id="messageFlap" class="messageFlap"><div id="message" class="message"></div></div>

<div id="user">
    <div id="userName"></div>
    <div id="navigation"><img src="./resources/icons/navigation-menu.svg" class="icon" style="filter: invert(1);" id="menuButton"/></div>
</div>
<div id="menu" style="display: none;">
    <div id="login" style="display: none;">
        <!-- Template: login-form -->
    </div>
    <div id="userMenu" style="display: none;">
        <!-- Template: user-menu -->
    </div>
    <div id="language">
        <!-- Template: language -->
    </div>    
    <div id="footer">
        <!-- Template: footer -->
    </div>
</div>

<h1>new tab online</h1>
<div id="gridContainer">
    <!-- Template: logged-out-grid OR grid -->
</div>

</body>

<script id="tmpl-login-form" type="text/template">
    <h2>{{i18n:login}}</h2>
    <form>
        <div class="form-group">
            <label for="inputUsername">{{i18n:user_name}}</label>
            <input type="text" class="form-control" id="inputUsername">
        </div>
        <div class="form-group">
            <label for="inputPassword">{{i18n:password}}</label>
            <input type="password" class="form-control" id="inputPassword">
        </div>
        <button type="button" class="btn btn-primary" id="loginButton">{{i18n:login}}</button>
    </form>
</script>

<script id="tmpl-user-menu" type="text/template">
    <ul>
        <li><a id="logoutLink" href="#">Logout</a></li>
    </ul>
</script>

<script id="tmpl-language" type="text/template">
    {{i18n:language}}: {{if:activeLang==en}}EN{{else}}<a id="switchLanguage" data-lang="en" href="#">EN</a>{{end}}{{end}} | {{if:activeLang==de}}DE{{else}}<a id="switchLanguage" data-lang="de" href="#">DE</a>{{end}}{{end}}
</script>

<script id="tmpl-footer" type="text/template">
    {{i18n:by}} <a href="https://www.mjh.at/">mjh.at</a> &copy;{{=year}}<br/><a href="#">{{i18n:github}}</a>
</script>

<script id="tmpl-logged-out-grid" type="text/template">
    <p>{{i18n:please_login}}</p>
</script>

<script id="tmpl-grid" type="text/template">
{{for:grids}}
<div id="grid-{{=grid}}" class="grid">
    {{for:tiles}}
    <a class="grid-item{{=gridItemAddClass}}" style="{{=gradientStyle}} {{=borderStyle}}" href="{{=href}}">{{if:imageBase64}}<img src="{{=imageBase64}}" border="0" alt="{{=text}}" class="tileImage" id="{{=imageId}}" style="display: none;">{{end}}<div class="tileText {{=textColor}}">{{=text}}</div></a>
    {{end}}
</div>
{{end}}
</script>

<script type="module">
import { NewTabOnline } from './js/newtab.js';

let newtab = new NewTabOnline("container");
newtab.init();
newtab.start();

</script>

